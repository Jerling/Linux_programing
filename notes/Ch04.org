* UNP卷1：第四章（基本TCP套接字编程）
** 1. TCP 连接的建立与终止
*** 1.1. 三次握手
1. 服务器必须准备好接受外来的连接。这通常通过调用 =socket= , =bind= 和 =listen= 这三个函数来完成，称之为被动打开。
2. 客户通过调用 =connect= 发起主动打开。这导致 *客户TCP* 发送一个 *SYN（同步）* 分节，它告诉服务器客户将在（待建立的）连接中发送的数据的初始序列号。通常 *SYN* 分节不携带数据，其所在 *IP* 数据报只含有一个 *IP* 部，一个 *TCP* 首部及可能有的 *TCP* 选项。
   1. *TCP* 选项之 *MSS* 选项：
   发送 *SYN* 的 *TCP* 一端使用本选项通告对端它的最大分节大小（maximum segment size）即 *MSS* ，也就是它在本连接的每个 *TCP* 分节中愿意接受的最大数据量。发送端 *TCP* 使用接收端的 *MSS* 值作为所发送分节的最大大小。
3. 服务器必须确认（ *ACK* ）客户的 *SYN* ，同时自己也得发送一个 *SYN* 分节，它含有服务器将在同一连接中发送的数据的初始序列号。服务器在单个分节中发送 *SYN* 和对客户 *SYN* 的 *ACK* 
4. 客户必须确认服务器的SYN。

这种交换至少需要3个分组，因此称之为TCP的三路握手。（这里SYN为1字节，所以ACK时候只要在K上简单加1即可）

[[https://box.kancloud.cn/2016-06-20_57678b2f0b396.jpg]]
